<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Rich Text Editor</title>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/7f5d82fb3c.js" crossorigin="anonymous"></script>
  <style>
    body {
      background: #55f;
    }

    #editor {
      width: 800px;
      height: 500px;
      border: 1px solid #ccc;
      font-family: Helvetica, Arial, 'sans-serif';
      margin: 30px auto;
    }

    h1 {
      color: #fff;
      font-size: 24px;
      text-align: center;
    }

    .text_box {
      height: 100%;
      max-height: 470px;
      overflow: auto;
      background: #fff;
      padding: 5px;
      box-sizing: border-box;
    }

    .text_box:focus {
      background: #fff;
      outline: none;
    }

    .buttons {
      height: 30px;
      border-bottom: 1px solid #ccc;
      font-family: 'Times New Roman', serif;
      background: #ccc;
      padding: 5px 0 0 5px;
      box-sizing: border-box;
    }

    button {
      background: none;
      border: none;
      width: 25px;
      text-align: center;
      font-weight: bold;
      cursor: pointer;
      border-radius: 3px;
    }

    button.pushed {
      border: #bbb;
      background: #f9f9f9;
    }

    button:hover {
      border: #bbb;
      background: #f9f9f9;
    }
  </style>
</head>

<body>
  <h1>Rich Text Editor</h1>
  <div id="editor">
    <div class="buttons">
      <button class="bold fa fa-bold"></button>
      <button class="italicize fa fa-italic"></button>
      <button class="underline fa fa-underline"></button>
      <button class="strikethrough fa fa-strikethrough"></button>
      <button class="link fa fa-link"></button>
      <button class="ul fa fa-list-ul"></button>
      <button class="ol fa fa-list-ol"></button>
      <button class="al_left fa fa-align-left"></button>
      <button class="al_right fa fa-align-right"></button>
      <button class="al_center fa fa-align-center"></button>
      <button class="al_justify fa fa-align-justify"></button>
    </div>
    <div class="text_box" contenteditable="true"></div>

  </div>
  <script>
    var App = {

      toggleBold: function (e) {
        document.execCommand('bold');
        this.toggleButton(e);
      },

      toggleItalic: function (e) {
        document.execCommand('italic');
        this.toggleButton(e);
      },

      toggleUnderline: function (e) {
        document.execCommand('underline');
        this.toggleButton(e);
      },

      toggleLink: function (e) {
        var selection = document.getSelection().toString();
        var url;
        if (!selection) return;

        url = prompt('Enter the URL to link to: ');
        this.createLink(url, e);
      },

      toggleStrikeThrough: function (e) {
        document.execCommand('strikeThrough');
        this.toggleButton(e);
      },

      createLink: function (url, e) {
        if (!url) return;
        document.execCommand('createLink', false, url);
        this.toggleButton(e);
      },

      insertUL: function (e) {
        document.execCommand('insertUnorderedList');
        this.toggleButton(e);
      },

      insertOL: function (e) {
        document.execCommand('insertOrderedList');
        this.toggleButton(e);
      },

      alignLeft: function (e) {
        document.execCommand('justifyLeft');
        this.toggleButton(e);
        this.toggleButtons();
      },

      alignRight: function (e) {
        document.execCommand('justifyRight');
        this.toggleButton(e);
        this.toggleButtons();
      },

      alignCenter: function (e) {
        document.execCommand('justifyCenter');
        this.toggleButton(e);
        this.toggleButtons();
      },

      alignJustify: function (e) {
        document.execCommand('justifyFull');
        this.toggleButton(e);
        this.toggleButtons();
      },

      // add 'pushed' class to button clicked
      toggleButton: function (e) {
        var $btn = $(e.target);
        $btn.toggleClass('pushed');
      },

      // add 'pushed' class to buttons whose actions are applied to current selection
      toggleButtons: function () {
        var isBold = document.queryCommandState('bold');
        var isItalic = document.queryCommandState('italic');
        var isUnderlined = document.queryCommandState('underline');
        var isStrokeThrough = document.queryCommandState('strikeThrough');
        var isALink = document.queryCommandState('createLink');
        var isAnOL = document.queryCommandState('insertOrderedList');
        var isAUL = document.queryCommandState('insertUnorderedList');
        var isAlignLeft = document.queryCommandState('justifyLeft');
        var isAlignRight = document.queryCommandState('justifyRight');
        var isAlignCenter = document.queryCommandState('justifyCenter');
        var isAlignJust = document.queryCommandState('justifyFull');

        $('.bold').toggleClass('pushed', isBold);
        $('.italicize').toggleClass('pushed', isItalic);
        $('.underline').toggleClass('pushed', isUnderlined);
        $('.strikethrough').toggleClass('pushed', isStrokeThrough);
        $('.link').toggleClass('pushed', isALink);
        $('.ul').toggleClass('pushed', isAUL);
        $('.ol').toggleClass('pushed', isAnOL);
        $('.al_left').toggleClass('pushed', isAlignLeft);
        $('.al_right').toggleClass('pushed', isAlignRight);
        $('.al_center').toggleClass('pushed', isAlignCenter);
        $('.al_justify').toggleClass('pushed', isAlignJust);
      },

      init: function () {
        $('button.bold').on('click', this.toggleBold.bind(this));
        $('button.italicize').on('click', this.toggleItalic.bind(this));
        $('button.underline').on('click', this.toggleUnderline.bind(this));
        $('button.link').on('click', this.toggleLink.bind(this));
        $('button.strikethrough').on('click', this.toggleStrikeThrough.bind(this));
        $('button.ul').on('click', this.insertUL.bind(this));
        $('button.ol').on('click', this.insertOL.bind(this));
        $('button.al_left').on('click', this.alignLeft.bind(this));
        $('button.al_right').on('click', this.alignRight.bind(this));
        $('button.al_center').on('click', this.alignCenter.bind(this));
        $('button.al_justify').on('click', this.alignJustify.bind(this));
        document.addEventListener('selectionchange', this.toggleButtons.bind(this));
      }
    };

    App.init();
  </script>
</body>

</html>
